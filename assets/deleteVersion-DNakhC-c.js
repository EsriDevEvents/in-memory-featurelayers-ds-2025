import{s as c,bF as d,bG as u,bH as f,U as m}from"./index-Dv-JqQDv.js";import{r as v}from"./serverVersionUtils-D6vaoGkB.js";const s=new Map;async function b(e,o,i){s.has(e)||await v(s,e);const r=s.get(e);if(((r==null?void 0:r.serverVersion)??0)<=11.1)throw new c("deleteVersion:enterprise-version","versioning API requires ArcGIS Enterprise version 11.2 or higher");const t=d(e),n=o.toJSON(),a=u(t.query,{query:f({...n,f:"json"}),...i,authMode:"immediate",method:"post"}),h=`${t.path}/delete`,{data:p}=await m(h,a);return p.success}export{b as deleteVersion,s as serverVersionCacheMap};
