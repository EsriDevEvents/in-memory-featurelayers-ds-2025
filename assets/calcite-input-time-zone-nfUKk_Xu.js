import{hd as M,he as w,hf as h,hz as F,hy as k,jn as z,jm as _,hp as B,hq as V,jq as j,jp as $,ht as H,hu as U,hm as R,hl as A,jy as W,hn as q,iP as G,hv as d,iS as J,ju as K,hw as N,iH as Q,hH as X,j8 as Y,j6 as ee,iz as te,_ as I,jz as se}from"./index-Dv-JqQDv.js";const ne=60,C=["CET","CST6CDT","EET","EST","EST5EDT","Factory","HST","MET","MST","MST7MDT","PST8PDT","UTC","WET"];function y(s){return s.replace(":15",".25").replace(":30",".5").replace(":45",".75").replace("âˆ’","-")}function ie(s,e){const t=x(s,"en-US",e).replace("GMT","");return t===""?0:Number(y(t))*ne}function oe(){return new Date().getTimezoneOffset()*-1}function ae(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}let b;async function le(s,e,t,n,a){const l=n.getTime(),O=Intl.supportedValuesOf("timeZone");return t==="offset"?(b||(b=Promise.all([I(()=>import("./index2-DHYiUVf4.js"),[],import.meta.url),I(()=>import("./index3-2Xo54Ze1.js"),[],import.meta.url)])),b.then(async([{groupTimeZones:m},{DateEngine:T}])=>{const f=await m({dateEngine:new T,groupDateRange:1,startDate:new Date(l).toISOString()}),D=new Intl.ListFormat(s,{style:"long",type:"conjunction"});f.forEach(i=>{const c=[];let r=0;i.tzs.forEach((o,u)=>{C.includes(o)&&r++,c[u]=r}),i.tzs=i.tzs.filter(o=>!C.includes(o)),i.labelTzIndices=i.labelTzIndices.map(o=>o-c[o]).filter(o=>o>=0&&o<i.tzs.length)});const P=a==="user"?s:a==="utc"?"fr":"en-GB";return f.map(({labelTzIndices:i,tzs:c})=>{const r=c[0],o=y(x(r,P,l)),u=ie(r,l),S=i.map(p=>{const g=c[p];return e[g]||g.split("/").pop()});return{label:ce(e,o,D.format(S)),value:u,filterValue:c.map(p=>Z(p))}}).filter(i=>!!i).sort((i,c)=>i.value-c.value)})):O.map(m=>({label:Z(m),value:m,filterValue:m})).filter(m=>!!m).sort()}function Z(s){return s.replace(/_/g," ")}function ce(s,e,t){return s.timeZoneLabel.replace("{offset}",e).replace("{cities}",t)}function x(s,e,t=Date.now()){return se(e,{timeZone:s,timeZoneName:"shortOffset"}).formatToParts(t).find(({type:l})=>l==="timeZoneName").value}function v(s,e,t){return t==null?null:s.find(n=>n[e]==t)}const me=":host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:block}:host([hidden]){display:none}[hidden]{display:none}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}::slotted(input[slot=hidden-form-input]){margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;inset:0 !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}",re=me,E=M(class extends w{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.calciteInputTimeZoneBeforeClose=h(this,"calciteInputTimeZoneBeforeClose",6),this.calciteInputTimeZoneBeforeOpen=h(this,"calciteInputTimeZoneBeforeOpen",6),this.calciteInputTimeZoneChange=h(this,"calciteInputTimeZoneChange",6),this.calciteInputTimeZoneClose=h(this,"calciteInputTimeZoneClose",6),this.calciteInputTimeZoneOpen=h(this,"calciteInputTimeZoneOpen",6),this.setComboboxRef=e=>{this.comboboxEl=e},this.onComboboxBeforeClose=e=>{e.stopPropagation(),this.calciteInputTimeZoneBeforeClose.emit()},this.onComboboxBeforeOpen=e=>{e.stopPropagation(),this.calciteInputTimeZoneBeforeOpen.emit()},this.onComboboxChange=e=>{e.stopPropagation();const n=e.target.selectedItems[0];if(!n){this.value=null,this.selectedTimeZoneItem=null,this.calciteInputTimeZoneChange.emit();return}const a=this.findTimeZoneItemByLabel(n.textLabel),l=`${a.value}`;this.value===l&&a.label===this.selectedTimeZoneItem.label||(this.value=l,this.selectedTimeZoneItem=a,this.calciteInputTimeZoneChange.emit())},this.onComboboxClose=e=>{e.stopPropagation(),this.open=!1,this.calciteInputTimeZoneClose.emit()},this.onComboboxOpen=e=>{this.open=!0,e.stopPropagation(),this.calciteInputTimeZoneOpen.emit()},this.clearable=!1,this.disabled=!1,this.form=void 0,this.maxItems=0,this.messages=void 0,this.messageOverrides=void 0,this.mode="offset",this.offsetStyle="user",this.validationMessage=void 0,this.validationIcon=void 0,this.validity={valid:!1,badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valueMissing:!1},this.name=void 0,this.open=!1,this.overlayPositioning="absolute",this.referenceDate=void 0,this.required=!1,this.scale="m",this.status="idle",this.value=void 0,this.readOnly=!1,this.defaultMessages=void 0,this.effectiveLocale=""}onMessagesChange(){}handleTimeZoneItemPropsChange(){this.updateTimeZoneItemsAndSelection()}handleValueChange(e,t){if(e=this.normalizeValue(e),!e&&this.clearable){this.value=e,this.selectedTimeZoneItem=null;return}const n=this.findTimeZoneItem(e);if(!n){this.value=t;return}this.selectedTimeZoneItem=n}async setFocus(){await F(this),await this.comboboxEl.setFocus()}effectiveLocaleWatcher(){k(this,this.effectiveLocale)}onLabelClick(){this.setFocus()}findTimeZoneItem(e){return v(this.timeZoneItems,"value",e)}findTimeZoneItemByLabel(e){return v(this.timeZoneItems,"label",e)}async updateTimeZoneItemsAndSelection(){if(this.timeZoneItems=await this.createTimeZoneItems(),this.value===""&&this.clearable){this.selectedTimeZoneItem=null;return}const e=this.mode==="offset"?oe():ae(),t=this.value??e;this.selectedTimeZoneItem=this.findTimeZoneItem(t)||this.findTimeZoneItem(e)}async createTimeZoneItems(){return!this.effectiveLocale||!this.messages?[]:le(this.effectiveLocale,this.messages,this.mode,this.referenceDate instanceof Date?this.referenceDate:new Date(this.referenceDate??Date.now()),this.offsetStyle)}connectedCallback(){z(this),_(this),B(this),V(this)}disconnectedCallback(){j(this),$(this),H(this),U(this)}normalizeValue(e){return e===null?"":e}async componentWillLoad(){R(this),await A(this),this.value=this.normalizeValue(this.value),await this.updateTimeZoneItemsAndSelection();const e=this.selectedTimeZoneItem?`${this.selectedTimeZoneItem.value}`:null;W(this,e),this.value=e}componentDidLoad(){q(this)}componentDidRender(){G(this)}render(){return d(N,{key:"dad642e8f2094c402f24c65422463ca875627fa9"},d(J,{key:"c452b27815cc331bf2475233f21463a08726f797",disabled:this.disabled},d("calcite-combobox",{key:"70ce16ff8302b6dea19767b9cf00dd735d9019dd",clearDisabled:!this.clearable,disabled:this.disabled,label:this.messages.chooseTimeZone,lang:this.effectiveLocale,maxItems:this.maxItems,onCalciteComboboxBeforeClose:this.onComboboxBeforeClose,onCalciteComboboxBeforeOpen:this.onComboboxBeforeOpen,onCalciteComboboxChange:this.onComboboxChange,onCalciteComboboxClose:this.onComboboxClose,onCalciteComboboxOpen:this.onComboboxOpen,open:this.open,overlayPositioning:this.overlayPositioning,placeholder:this.mode==="name"?this.messages.namePlaceholder:this.messages.offsetPlaceholder,readOnly:this.readOnly,ref:this.setComboboxRef,scale:this.scale,selectionMode:this.clearable?"single":"single-persist",status:this.status,"validation-icon":this.validationIcon,"validation-message":this.validationMessage},this.timeZoneItems.map(e=>{const t=this.selectedTimeZoneItem===e,{label:n,value:a}=e;return d("calcite-combobox-item",{"data-value":a,key:n,selected:t,textLabel:n,value:`${e.filterValue}`})})),d(K,{key:"d8d6cdaffb68c5cb0ed57abd922ad4b84e26de5d",component:this})))}static get delegatesFocus(){return!0}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{messageOverrides:["onMessagesChange"],messages:["handleTimeZoneItemPropsChange"],mode:["handleTimeZoneItemPropsChange"],referenceDate:["handleTimeZoneItemPropsChange"],value:["handleValueChange"],effectiveLocale:["effectiveLocaleWatcher"]}}static get style(){return re}},[17,"calcite-input-time-zone",{clearable:[516],disabled:[516],form:[513],maxItems:[514,"max-items"],messages:[1040],messageOverrides:[1040],mode:[513],offsetStyle:[513,"offset-style"],validationMessage:[1,"validation-message"],validationIcon:[520,"validation-icon"],validity:[1040],name:[513],open:[1540],overlayPositioning:[513,"overlay-positioning"],referenceDate:[1,"reference-date"],required:[516],scale:[513],status:[513],value:[1025],readOnly:[516,"read-only"],defaultMessages:[32],effectiveLocale:[32],setFocus:[64]},void 0,{messageOverrides:["onMessagesChange"],messages:["handleTimeZoneItemPropsChange"],mode:["handleTimeZoneItemPropsChange"],referenceDate:["handleTimeZoneItemPropsChange"],value:["handleValueChange"],effectiveLocale:["effectiveLocaleWatcher"]}]);function L(){if(typeof customElements>"u")return;["calcite-input-time-zone","calcite-chip","calcite-combobox","calcite-combobox-item","calcite-icon","calcite-input-message"].forEach(e=>{switch(e){case"calcite-input-time-zone":customElements.get(e)||customElements.define(e,E);break;case"calcite-chip":customElements.get(e)||te();break;case"calcite-combobox":customElements.get(e)||ee();break;case"calcite-combobox-item":customElements.get(e)||Y();break;case"calcite-icon":customElements.get(e)||X();break;case"calcite-input-message":customElements.get(e)||Q();break}})}L();const pe=E,be=L;export{pe as CalciteInputTimeZone,be as defineCustomElement};
