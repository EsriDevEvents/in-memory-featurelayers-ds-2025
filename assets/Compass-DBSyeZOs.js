const __vite__fileDeps=["./calcite-button-BcCDFDK8.js","./index-Dv-JqQDv.js","./index-CejX7rzk.css","./calcite-icon-D3-fBgCQ.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{o as d,gH as l,hJ as w,p as _,j as o,y as s,P as v,b_ as g,_ as h}from"./index-Dv-JqQDv.js";import{e as y,B as b,r as f,n}from"./jsxFactory-C3RLkrq9.js";import{e as M}from"./utils-DsJqvptN.js";import{t as R}from"./GoTo-BCG1WN4R.js";import{e as p}from"./globalCss-CZa70j6i.js";let a=class extends R(g){constructor(e){super(e),this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this.addHandles(d(()=>this.view,this._updateRotationWatcher,l))}destroy(){this.view=null}get canShowNorth(){return M(this.view)}get state(){var e;return!((e=this.view)!=null&&e.ready)||this.view.type==="2d"&&!this.view.constraints.rotationEnabled?"disabled":this.canShowNorth?"compass":"rotation"}reset(){var e,i;(e=this.view)!=null&&e.ready&&(((i=this.view)==null?void 0:i.type)==="2d"?this.callGoTo({target:{rotation:0},options:{animationMode:"always",duration:w(_("mapview-essential-goto-duration"))}}):this.callGoTo({target:{heading:0}}))}_updateForRotation(e){e!=null&&this._set("orientation",{z:e})}_updateForCamera(e){if(!e)return;const i=-e.heading;this._set("orientation",{x:0,y:0,z:i})}_updateRotationWatcher(e){this.removeAllHandles(),e&&this.addHandles(e.type==="2d"?d(()=>e==null?void 0:e.rotation,this._updateForRotation,l):d(()=>e==null?void 0:e.camera,this._updateForCamera,l))}};o([s({readOnly:!0})],a.prototype,"canShowNorth",null),o([s({readOnly:!0})],a.prototype,"orientation",void 0),o([s({readOnly:!0})],a.prototype,"state",null),o([s()],a.prototype,"view",void 0),a=o([v("esri.widgets.Compass.CompassViewModel")],a);const m=a,c="esri-compass",u={base:c,iconContainer:`${c}__icon-container`};let r=class extends b{constructor(t,e){super(t,e),this.messages=null,this.viewModel=new m,this._reset=()=>{this.viewModel.reset()},this._toRotationTransform=i=>({transform:`rotateZ(${i.z}deg)`})}loadDependencies(){return f({button:()=>h(()=>import("./calcite-button-BcCDFDK8.js"),__vite__mapDeps([0,1,2]),import.meta.url),icon:()=>h(()=>import("./calcite-icon-D3-fBgCQ.js"),__vite__mapDeps([3,1,2]),import.meta.url)})}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(t){this.viewModel.goToOverride=t}get icon(){return this.viewModel.state==="rotation"?"arrow-up":"compass-needle"}set icon(t){this._overrideIfSome("icon",t)}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}reset(){return this.viewModel.reset()}render(){const{orientation:t,state:e}=this.viewModel,{messages:i}=this;return n("div",{class:this.classes(u.base,p.widget)},n("calcite-button",{class:p.widgetButton,disabled:e==="disabled",kind:"neutral",label:i.reset,onclick:this._reset,round:!0,scale:"s",title:i.reset},n("div",{"aria-hidden":"true",class:u.iconContainer,title:i.reset},n("calcite-icon",{icon:this.icon,styles:this._toRotationTransform(t)}))))}};o([s()],r.prototype,"goToOverride",null),o([s()],r.prototype,"icon",null),o([s()],r.prototype,"label",null),o([s(),y("esri/widgets/Compass/t9n/Compass")],r.prototype,"messages",void 0),o([s()],r.prototype,"view",null),o([s({type:m})],r.prototype,"viewModel",void 0),r=o([v("esri.widgets.Compass")],r);const x=r;export{x as default};
